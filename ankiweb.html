<b>Check out this <a href="https://www.ankingmed.com" rel="nofollow">TheAnKing</a> Video: <a href="https://www.youtube.com/watch?v=NHpl-j9pULU" rel="nofollow">...</a></b>.
<img src="https://raw.githubusercontent.com/ijgnd/anki__browser_search__quick_insert_tag_deck_notetype/master/screenshots/quick_insert_white.gif">
This add-on offers multiple search-related enhancements.

With this add-on when you type "tag:", "deck:", "note:", or "card:", etc. into the browser search bar a dialog opens that allows you to filter and insert a matching tag, deck, notetype, cardtype, etc. into the search bar. See the gif above.

You can also view the current search term in an extra dialog where it can be split up into multiple lines. This is e.g. useful if you want to search for a term only in certain decks and only if the note has some tag and you have long deck names and long tag names. See the screenshot below. In this dialog you have some buttons which allow you to add filters without having to remember the exact terms Anki uses.
<img src="https://raw.githubusercontent.com/ijgnd/anki__browser_search__quick_insert_tag_deck_notetype/master/screenshots/multiline_dialog_arrows.png">
There's also a custom dialog to make it easier to narrow your searches by date. In Anki (as of version 2.1.28) you can limit your search by "date added" and "date rated". But you can only search relative to today's date, e.g. to find cards rated on or after yesterday you would type in "rated:2". This gets less useful if you e.g. want so search for notes added during the first week of the semester which was from April, 15th to April, 19th ... For these cases this add-on offers a dialog where you can select absolute dates (like April, 15th) and the add-on will transform them so that Anki understands them. 
<img src="https://raw.githubusercontent.com/ijgnd/anki__browser_search__quick_insert_tag_deck_notetype/master/screenshots/pick_dates.png">

<b>To use the filter dialog to insert tags into a note in the editor (in the Add Window, at the bottom of the Browser or in the Edit Current window) use the add-on <a href="https://ankiweb.net/shared/info/1135507717" rel="nofollow">Extended Tag Add/Edit Dialog</a>.</b>

<b># Details</b>
For a full description read the info text on the right side of the add-on config dialog inside Anki.

The default shortcut to open the multi-line dialog is "Ctrl+t, s". You press "Ctrl+t", then release both keys and then press "s". On MacOS instead of "Ctrl+t" you use "Cmd+t". My mnemonic is "<i>t</i>o <i>s</i>earch".

BetterSearch also adds some special filter dialogs:

- If you type in "all:" or "xx"  a dialog opens that contains tags and decknames in one selection dialog. This might might be useful if you have many tags and many subdecks. This is inspired by the search on ankimobile.
- if you type in "cfn:" a dialog opens where you can select a card of a certain note type so that you'll e.g. get <code>("card:Card 2" and "note:Basic (optional reversed card)")</code>. "cfn" stands for "card from note".
- there's a similar "ffn" (field from note) dialog.

There are also shortcuts that open the filter dialogs directly (that you can adjust in the config), e.g. "Ctrl+H, T" opens the tag filer dialog in the browser even if the focus is not in the search box. 

By default a filter dialog that was opened by a shortcut runs the search. You can adjust this in the config and temporarily override this by pressing shift when you close the filter dialog. 

In the dialog you can go down with the down arrow or Ctrl+N and go up with the up arrow or Ctrl+H or Ctrl+P.

This addon also works in the "Create Filtered Decks" window.

<b># acknowledgements</b>
TheAnKing has helped with testing, ideas, and a fix for MacOS. The new name of this add-on was inspired by <a href="https://www.patreon.com/posts/bettertags-v1-0-33338657" rel="nofollow">glutanimate's great add-on BetterTags</a>.

<b># bugs, feedback</b>
Use this version at your own risk. Please do not use reviews for bug reports or support requests. Properly troubleshooting an issue through reviews is nearly impossible becauseformatting is limited and I can't reply multiple times. If you find a bug let me know  <a href="https://forums.ankiweb.net/t/browser-search-box-quick-insert-tag-deck-notetype-official-thread/547" rel="nofollow">in the official anki support forum</a> or on <a href="https://github.com/ijgnd/anki__browser_search__quick_insert_tag_deck_notetype/issues" rel="nofollow">github</a>.

<b># Versions</b>
- 2020-07-03 major update with a multi-line dialog, search terms are detected everywhere, new terms like field:, is:, prop:
- 2020-06-27 option for "ignore upper and lower case (case insensitive search)" (default is off), compatibility with <a href="https://ankiweb.net/shared/info/1062248336" rel="nofollow">Browser: search string to multi-line dialog</a>
- 2020-04-27 bugfix
- 2020-04-19 added "cfn:" dialog (and cards dialog now only shows card names), added extra button to only insert current text, don't add * when it's not allowed in Anki 2.1.22, etc.
- 2020-04-08 in the filter dialog if the search string exactly matches a list entry always put it first
- 2020-04-07 include "tag:none", "deck:filtered"; add "*" when triggered by shortcuts from the browser, improve fuzzypanel
- 2020-04-06 filter dialog also works in the "Create Filtered Decks" window (only for Anki 2.1.22 or later)
- 2020-03-24 better positioning for filter dialog, remove night-mode specific code (only for Anki 2.1.22 or later)
- 2020-01-22 another night mode fix
- 2020-01-18 fix for exclude (#3); if dialog was opened with a shortcut: if Alt was pressed when closing the dialog prepend "-", night mode warning
- 2020-01-12 by default add '*' to inserted tags, adjustable in the config. Don't add '*' if ctrl was pressed when closing the dialog.
- 2020-01-12 direct shortcuts, night mode compatibility, remembers dialog size
- 2020-01-11 initial release
